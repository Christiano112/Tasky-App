<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="forms.css">
    <link rel="icon" href="/images/Logo.svg">
    <title>Reset Password</title>
</head>

<body>
    <main>
        <section class="header">
            <h1>RESET PASSWORD?</h1>
            <p>Enter the code sent to email to reset</p>
        </section>
        <section class="form">
            <form action="home.html" name="form" id="form">
                <label for="code">Code</label>
                <input type="password" name="code" id="code" placeholder="Code" required autocomplete="email" autofocus>
                <p id="check_code"></p>

                <label for="password">Password</label>
                <input type="password" name="password" id="password" placeholder="Reset Password" required
                    autocomplete="new-password">
                <p id="check_password1"></p>
                
                <label for="confirm_password">Confirm Password</label>
                <input type="password" name="confirm_password" id="confirm_password" placeholder="Confirm password" required
                    autocomplete="new-password">
                <p id="check_password"></p>

                <input type="submit" value="Reset Password" id="psubmit">
            </form>
        </section>
    </main>

    <script>
        document.getElementById("form").addEventListener('submit', function(e) {
            e.preventDefault();

            var code = document.forms.form.code.value;
            var password = document.forms.form.password.value;
            var confirm_password = document.forms.form.confirm_password.value;

            if (code == "" || code == null) {
                document.getElementById("check_code").innerHTML = "Please input code!";
            }

            if (password !== confirm_password) {
                document.getElementById("check_password").innerHTML = "Password doesn't match, Try again!";
            }

            if (password == "" || password.length < 6 || password == null) {
                document.getElementById("check_password1").innerHTML = "Password must be at least 6 characters"
            }

            else {
                setTimeout(openNew, 2000)
                function openNew() {
                    alert("PASSWORD RESET SUCCESSFUL!");
                    window.open("home.html", target = "_self")
                }
            }
        })
    </script>
</body>

</html>